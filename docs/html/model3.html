

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview of bagle.model &mdash; BAGLE 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="BAGLE 0.1 documentation" href="index.html"/>
        <link rel="next" title="User Classes" href="UserClass.html"/>
        <link rel="prev" title="BAGLE TUTORIAL" href="intro.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> BAGLE
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">BAGLE TUTORIAL</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview of bagle.model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#point-source-point-lens-photometry-only">Point source, point lens, photometry only:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#point-source-point-lens-photometry-and-astrometry">Point source, point lens, photometry and astrometry:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#point-source-point-lens-astrometry-only">Point source, point lens, astrometry only</a></li>
<li class="toctree-l2"><a class="reference internal" href="#point-soruce-binary-lens-photometry-only">Point soruce, binary lens, photometry only</a></li>
<li class="toctree-l2"><a class="reference internal" href="#point-source-binary-lens-photometry-and-astrometry">Point source, binary lens, photometry and astrometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="#binary-source-point-lens-photometry-and-only">Binary source, point lens, photometry and only</a></li>
<li class="toctree-l2"><a class="reference internal" href="#binary-source-point-lens-photometry-and-astrometry">Binary source, point lens, photometry and astrometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="#finite-source-point-lens-photometry-and-astrometry-broken">Finite source, point lens, photometry and astrometry (broken)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#developers">Developers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#class-families">Class Families</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#model-class-family">Model Class Family</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-class-family">Data Class Family</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parallax-class-family">Parallax Class Family</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameterization-class-family">Parameterization Class Family</a></li>
<li class="toctree-l3"><a class="reference internal" href="#making-a-new-model">Making a New Model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="UserClass.html">User Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="PSPL.html">POINT SOURCE POINT LENS (PSPL) CLASSES</a></li>
<li class="toctree-l1"><a class="reference internal" href="PSBL.html">POINT SOURCE BINARY LENS (PSBL) CLASSES</a></li>
<li class="toctree-l1"><a class="reference internal" href="BSPL.html">BINARY SOURCE POINT LENS (BSPL) CLASSES</a></li>
<li class="toctree-l1"><a class="reference internal" href="FSPL.html">FSPL(Finite-Source Point Lens) Models - NOT DONE YET… place holders</a></li>
<li class="toctree-l1"><a class="reference internal" href="Gen_Use.html">GENERAL USE AND SHARED FUNCTIONS</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_fitter.html">Model Fitter</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">BAGLE</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Overview of bagle.model</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/model3.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview-of-bagle-model">
<h1>Overview of bagle.model<a class="headerlink" href="#overview-of-bagle-model" title="Permalink to this headline">¶</a></h1>
<p>model.py is a module that contains a set of classes
and functions that allow the user to construct microlensing
models. The available classes for instantiating a microlensing
event are shown in the list below. See the API documentation
for each class for details.</p>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>To instantiate a model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bagle</span> <span class="k">import</span> <span class="n">model</span>

<span class="n">mL</span> <span class="o">=</span> <span class="mf">10.0</span>  <span class="c1"># msun</span>
<span class="n">t0</span> <span class="o">=</span> <span class="mf">57000.00</span>
<span class="n">xS0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.000</span><span class="p">,</span> <span class="mf">0.000</span><span class="p">])</span>
<span class="n">beta</span> <span class="o">=</span> <span class="mf">1.4</span>  <span class="c1"># mas</span>
<span class="n">muS</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">muL</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.00</span><span class="p">])</span>
<span class="n">dL</span> <span class="o">=</span> <span class="mf">4000.0</span>
<span class="n">dS</span> <span class="o">=</span> <span class="mf">8000.0</span>
<span class="n">b_sff</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>    <span class="c1"># one for each filter</span>
<span class="n">mag_src</span> <span class="o">=</span> <span class="p">[</span><span class="mf">19.0</span><span class="p">]</span> <span class="c1"># one for each filter</span>

<span class="n">event1</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">PSPL_PhotAstrom_noPar_Param1</span><span class="p">(</span><span class="n">mL</span><span class="p">,</span>
                       <span class="n">t0</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">dL</span><span class="p">,</span> <span class="n">dL</span> <span class="o">/</span> <span class="n">dS</span><span class="p">,</span>
                       <span class="n">xS0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">xS0</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">muL</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">muL</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                       <span class="n">muS</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">muS</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                       <span class="n">b_sff</span><span class="p">,</span> <span class="n">mag_src</span><span class="p">)</span>

<span class="c1"># Get time range for event</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">event1</span><span class="o">.</span><span class="n">t0</span> <span class="o">-</span> <span class="mi">3000</span><span class="p">,</span>
              <span class="n">event1</span><span class="o">.</span><span class="n">t0</span> <span class="o">+</span> <span class="mi">3000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">dt</span> <span class="o">=</span> <span class="n">t</span> <span class="o">-</span> <span class="n">event1</span><span class="o">.</span><span class="n">t0</span>

<span class="c1"># Quanties you can print</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">event1</span><span class="o">.</span><span class="n">get_amplification</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">shift</span> <span class="o">=</span> <span class="n">event1</span><span class="o">.</span><span class="n">get_centroid_shift</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">shift_amp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">shift</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Note, each model class has a name that typically has a structure of</p>
<blockquote>
<div><p>&lt;ModelDataType&gt;_&lt;Parallax&gt;_&lt;GP&gt;_&lt;Parameterization&gt;</p>
</div></blockquote>
<p>For example, <cite>PSPL_Phot_noPar_Param2</cite> has a data and model class type of PSPL_Phot,
which contains a point-source, point-lens event with photometry only. The model
has no parallax, no GP and uses parameterization #2.</p>
<p>The complete list of instantiable model classes is:</p>
</div>
<div class="section" id="point-source-point-lens-photometry-only">
<h2>Point source, point lens, photometry only:<a class="headerlink" href="#point-source-point-lens-photometry-only" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>PSPL_Phot_noPar_Param1</p></li>
<li><p>PSPL_Phot_noPar_Param2</p></li>
<li><p>PSPL_Phot_Par_Param1</p></li>
<li><p>PSPL_Phot_Par_Param2</p></li>
<li><p>PSPL_Phot_Par_Param1_geoproj</p></li>
<li><p>PSPL_Phot_noPar_GP_Param1</p></li>
<li><p>PSPL_Phot_noPar_GP_Param2</p></li>
<li><p>PSPL_Phot_Par_GP_Param1</p></li>
<li><p>PSPL_Phot_Par_GP_Param1_2</p></li>
<li><p>PSPL_Phot_Par_GP_Param2</p></li>
<li><p>PSPL_Phot_Par_GP_Param2_2</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="point-source-point-lens-photometry-and-astrometry">
<h2>Point source, point lens, photometry and astrometry:<a class="headerlink" href="#point-source-point-lens-photometry-and-astrometry" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>PSPL_PhotAstrom_noPar_Param1</p></li>
<li><p>PSPL_PhotAstrom_noPar_Param2</p></li>
<li><p>PSPL_PhotAstrom_noPar_Param3</p></li>
<li><p>PSPL_PhotAstrom_noPar_Param4</p></li>
<li><p>PSPL_PhotAstrom_Par_Param4_geoproj</p></li>
<li><p>PSPL_PhotAstrom_Par_Param1</p></li>
<li><p>PSPL_PhotAstrom_Par_Param2</p></li>
<li><p>PSPL_PhotAstrom_Par_Param3</p></li>
<li><p>PSPL_PhotAstrom_Par_Param4</p></li>
<li><p>PSPL_PhotAstrom_Par_Param5</p></li>
<li><p>PSPL_PhotAstrom_LumLens_Par_Param1</p></li>
<li><p>PSPL_PhotAstrom_LumLens_Par_Param2</p></li>
<li><p>PSPL_PhotAstrom_LumLens_Par_Param4</p></li>
<li><p>PSPL_PhotAstrom_noPar_GP_Param1</p></li>
<li><p>PSPL_PhotAstrom_noPar_GP_Param2</p></li>
<li><p>PSPL_PhotAstrom_Par_GP_Param1</p></li>
<li><p>PSPL_PhotAstrom_Par_GP_Param2</p></li>
<li><p>PSPL_PhotAstrom_Par_GP_Param3</p></li>
<li><p>PSPL_PhotAstrom_Par_GP_Param4</p></li>
<li><p>PSPL_PhotAstrom_Par_LumLens_GP_Param1</p></li>
<li><p>PSPL_PhotAstrom_Par_LumLens_GP_Param2</p></li>
<li><p>PSPL_PhotAstrom_Par_LumLens_GP_Param3</p></li>
<li><p>PSPL_PhotAstrom_Par_LumLens_GP_Param4</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="point-source-point-lens-astrometry-only">
<h2>Point source, point lens, astrometry only<a class="headerlink" href="#point-source-point-lens-astrometry-only" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>PSPL_Astrom_Par_Param4</p></li>
<li><p>PSPL_Astrom_Par_Param3</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="point-soruce-binary-lens-photometry-only">
<h2>Point soruce, binary lens, photometry only<a class="headerlink" href="#point-soruce-binary-lens-photometry-only" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>PSBL_Phot_noPar_Param1</p></li>
<li><p>PSBL_Phot_Par_Param1</p></li>
<li><p>PSBL_Phot_noPar_GP_Param1</p></li>
<li><p>PSBL_Phot_Par_GP_Param1</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="point-source-binary-lens-photometry-and-astrometry">
<h2>Point source, binary lens, photometry and astrometry<a class="headerlink" href="#point-source-binary-lens-photometry-and-astrometry" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>PSBL_PhotAstrom_noPar_Param1</p></li>
<li><p>PSBL_PhotAstrom_noPar_Param2</p></li>
<li><p>PSBL_PhotAstrom_noPar_Param3</p></li>
<li><p>PSBL_PhotAstrom_Par_Param1</p></li>
<li><p>PSBL_PhotAstrom_Par_Param2</p></li>
<li><p>PSBL_PhotAstrom_Par_Param3</p></li>
<li><p>PSBL_PhotAstrom_Par_Param4</p></li>
<li><p>PSBL_PhotAstrom_Par_Param5</p></li>
<li><p>PSBL_PhotAstrom_noPar_GP_Param1</p></li>
<li><p>PSBL_PhotAstrom_noPar_GP_Param2</p></li>
<li><p>PSBL_PhotAstrom_Par_GP_Param1</p></li>
<li><p>PSBL_PhotAstrom_Par_GP_Param2</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="binary-source-point-lens-photometry-and-only">
<h2>Binary source, point lens, photometry and only<a class="headerlink" href="#binary-source-point-lens-photometry-and-only" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>BSPL_Phot_noPar_Param1</p></li>
<li><p>BSPL_Phot_Par_Param1</p></li>
<li><p>BSPL_Phot_noPar_GP_Param1</p></li>
<li><p>BSPL_Phot_Par_GP_Param1</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="binary-source-point-lens-photometry-and-astrometry">
<h2>Binary source, point lens, photometry and astrometry<a class="headerlink" href="#binary-source-point-lens-photometry-and-astrometry" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>BSPL_PhotAstrom_noPar_Param1</p></li>
<li><p>BSPL_PhotAstrom_noPar_Param2</p></li>
<li><p>BSPL_PhotAstrom_noPar_Param3</p></li>
<li><p>BSPL_PhotAstrom_Par_Param1</p></li>
<li><p>BSPL_PhotAstrom_Par_Param2</p></li>
<li><p>BSPL_PhotAstrom_Par_Param3</p></li>
<li><p>BSPL_PhotAstrom_noPar_GP_Param1</p></li>
<li><p>BSPL_PhotAstrom_noPar_GP_Param2</p></li>
<li><p>BSPL_PhotAstrom_noPar_GP_Param3</p></li>
<li><p>BSPL_PhotAstrom_Par_GP_Param1</p></li>
<li><p>BSPL_PhotAstrom_Par_GP_Param2</p></li>
<li><p>BSPL_PhotAstrom_Par_GP_Param3</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="finite-source-point-lens-photometry-and-astrometry-broken">
<h2>Finite source, point lens, photometry and astrometry (broken)<a class="headerlink" href="#finite-source-point-lens-photometry-and-astrometry-broken" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>FSPL_PhotAstrom_Par_Param1</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="developers">
<h1>Developers<a class="headerlink" href="#developers" title="Permalink to this headline">¶</a></h1>
<p>Each model class i built up from a menu of different features
by inheriting from multiple base classes, each from a different ‘family’ of
related classes.</p>
<p>Each microlensing model must contain:</p>
<blockquote>
<div><ol class="arabic">
<li><p>A class from the Data Class Family:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>PSPL</cite> – base class for all Data classes:</p>
<ul>
<li><p><cite>PSPL_Phot</cite></p></li>
<li><p><cite>PSPL_PhotAstrom</cite></p></li>
<li><p><cite>PSPL_GP_Phot</cite></p></li>
<li><p><cite>PSPL_GP_PhotAstrom</cite></p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p>A class from the Parallax Class Family:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>ParallaxClassABC</cite> – base class for all Parallax classes:</p>
<ul>
<li><p><cite>PSPL_noParallax</cite></p></li>
<li><p><cite>PSPL_Parallax</cite></p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p>A class from the GP Class Family: (optional)</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>PSPL_GP</cite> – base class for all GP classes.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>A class from the Parametrization Class Family:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>PSPL_Param</cite> – base class for all Param classes</p>
<ul>
<li><p><cite>PSPL_PhotParam1</cite></p></li>
<li><p><cite>PSPL_PhotParam2</cite></p></li>
<li><p><cite>PSPL_PhotAstromParam1</cite></p></li>
<li><p><cite>PSPL_PhotAstromParam2</cite></p></li>
<li><p><cite>PSPL_PhotAstromParam3</cite></p></li>
<li><p><cite>PSPL_PhotAstromParam4</cite></p></li>
<li><p><cite>PSPL_PhotAstromParam5</cite></p></li>
<li><p><cite>PSPL_GP_PhotParam1</cite></p></li>
<li><p><cite>PSPL_GP_PhotParam2</cite></p></li>
<li><p><cite>PSPL_GP_PhotAstromParam1</cite></p></li>
<li><p><cite>PSPL_GP_PhotAstromParam2</cite></p></li>
<li><p><cite>PSPL_GP_PhotAstromParam3</cite></p></li>
<li><p><cite>PSPL_GP_PhotAstromParam4</cite></p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p>There is a similar hierarchy for PSBL, etc.</p>
<p>For example, the <cite>PSPL_PhotAstrom_noPar_Param1</cite> model is declared as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PSPL_PhotAstrom_noPar_Param1</span><span class="p">(</span><span class="n">ModelClassABC</span><span class="p">,</span>
                                     <span class="n">PSPL_PhotAstrom</span><span class="p">,</span>
                                     <span class="n">PSPL_noParallax</span><span class="p">,</span>
                                     <span class="n">PSPL_PhotAstromParam1</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="class-families">
<h2>Class Families<a class="headerlink" href="#class-families" title="Permalink to this headline">¶</a></h2>
<div class="section" id="model-class-family">
<h3>Model Class Family<a class="headerlink" href="#model-class-family" title="Permalink to this headline">¶</a></h3>
<p>These are the classes that can be instantiated by the user.
The base class is ModelClassABC.</p>
</div>
<div class="section" id="data-class-family">
<h3>Data Class Family<a class="headerlink" href="#data-class-family" title="Permalink to this headline">¶</a></h3>
<p>These classes inform the model of what type of data will be used by the model.
If the model will be for photometry only, then a model with the <cite>PSPL_Phot</cite>
class must be selected. These models have the words <cite>Phot</cite> in their names.
If the model will be using photometry and astrometry data, then a model with
the <cite>PSPL_PhotAstrom</cite> must be selected. These models have the words
<cite>PhotAstrom</cite> in their names.</p>
<p>Data containing astrometry will generate a warning that astrometry data will
not be used in the model when run through a model using <cite>PSPL_Phot</cite>. Data that
does not contain astrometry run through a model using <cite>PSPL_PhotAstrom</cite> will
generate a RuntimeError.</p>
<p>The base class is PSPL.</p>
</div>
<div class="section" id="parallax-class-family">
<h3>Parallax Class Family<a class="headerlink" href="#parallax-class-family" title="Permalink to this headline">¶</a></h3>
<p>These classes set whether the model uses parallax when calculating
photometry, calculating astrometry, and fitting data. There are only two
options for this class family, <cite>PSPL_noParallax</cite> and <cite>PSPL_Parallax</cite>. Models
that do not have parallax have the words <cite>noPar</cite> in their names, while models
that do contain parallax have the words <cite>Par</cite> in their names.</p>
<p>The base class is ParallaxClassABC.</p>
</div>
<div class="section" id="parameterization-class-family">
<h3>Parameterization Class Family<a class="headerlink" href="#parameterization-class-family" title="Permalink to this headline">¶</a></h3>
<p>These classes determine which physical parameters define the model. Currently
this file supports one parameterization when using only photometry (<cite>Phot</cite>)
and three parametrizations when using photometry and astrometery
(<cite>PhotAstrom</cite>).</p>
<p>The base class is PSPL_Param.</p>
<p>The parameters for each parameterization are:</p>
<blockquote>
<div><dl>
<dt>PhotParam1 :</dt><dd><p>Point source point lens model for microlensing photometry only.
This model includes the relative proper motion between the lens
and the source. Parameters are reduced with the use of piRel</p>
<dl>
<dt><cite>Parameters</cite>:</dt><dd><div class="line-block">
<div class="line">t0, u0_amp, tE,</div>
<div class="line">piE_E, piE_N,</div>
<div class="line">b_sff, mag_src,</div>
<div class="line">(ra, dec)</div>
</div>
</dd>
</dl>
</dd>
<dt>PhotAstromParam1 :</dt><dd><p>Point Source Point Lens model for microlensing. This model includes
proper motions of both the lens and source.</p>
<dl>
<dt><cite>Parameters</cite>:</dt><dd><div class="line-block">
<div class="line">mL, t0, beta,</div>
<div class="line">dL, dL_dS,</div>
<div class="line">xS0_E, xS0_N,</div>
<div class="line">muL_E, muL_N,</div>
<div class="line">muS_E, muS_N,</div>
<div class="line">b_sff, mag_src,</div>
<div class="line">(ra, dec)</div>
</div>
</dd>
</dl>
</dd>
<dt>PhotAstromParam2 :</dt><dd><p>Point Source Point Lens model for microlensing. This model includes
proper motions of the source and the source position on the sky.</p>
<dl>
<dt><cite>Parameters</cite>:</dt><dd><div class="line-block">
<div class="line">t0, u0_amp, tE, thetaE, piS,</div>
<div class="line">piE_E, piE_N,</div>
<div class="line">xS0_E, xS0_N,</div>
<div class="line">muS_E, muS_N,</div>
<div class="line">b_sff, mag_src,</div>
<div class="line">(ra, dec)</div>
</div>
</dd>
</dl>
</dd>
<dt>PhotAstromParam3 :</dt><dd><p>Point Source Point Lens model for microlensing. This model includes
proper motions of the source and the source position on the sky.
Note it fits the baseline magnitude rather than the unmagnified source
brightness.</p>
<dl>
<dt><cite>Parameters</cite>:</dt><dd><div class="line-block">
<div class="line">t0, u0_amp, tE, log10_thetaE, piS,</div>
<div class="line">piE_E, piE_N,</div>
<div class="line">xS0_E, xS0_N,</div>
<div class="line">muS_E, muS_N,</div>
<div class="line">b_sff, mag_base,</div>
<div class="line">(ra, dec)</div>
</div>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p><cite>(ra, dec)</cite> are only required if the model is created with a parallax class.
More details about each parameterization can be found in the Parameterization
Class docstring.</p>
</div>
<div class="section" id="making-a-new-model">
<h3>Making a New Model<a class="headerlink" href="#making-a-new-model" title="Permalink to this headline">¶</a></h3>
<p>Each model is, as described above, constructed by combining inheriting from
different parent classes that contain the desired features for the model. Each
model must have one class from each class family. In addition to this, there
are several rules that must be followed when creating a new class.</p>
<blockquote>
<div><ol class="arabic">
<li><p>The data class must match the parameterization class. For example,
if the chosen data class is <cite>PSPL_Phot</cite>, then the parameter class
must be <cite>PSPL_PhotParam1</cite> (or a different PhotParam in a future
version). If the data class is <cite>PSPL_PhotAstrom</cite>, then the parameter
class must be one of the classes with a PhotAstromParam.</p></li>
<li><p>Models are built using python’s multiple inheritance feature. Therefore
the order in which the parent classes are listed in the model class’
definition matters. Parent classes to models should always be listed
in the order:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>ModelClassABC</p></li>
<li><p>Data Class</p></li>
<li><p>Parallax Class</p></li>
<li><p>Parameterization Class</p></li>
</ol>
</div></blockquote>
<p>If using the optional GP class, then the order is</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>ModelClassABC</p></li>
<li><p>GP Class</p></li>
<li><p>Data Class</p></li>
<li><p>Parallax Class</p></li>
<li><p>Parameterization Class</p></li>
</ol>
</div></blockquote>
</li>
<li><p>Each class must be given the <cite>&#64;inheritdocstring</cite> decorator, and include
the following commands in the model’s <code class="docutils literal notranslate"><span class="pre">__init__</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a.super().__init__(*args,</span> <span class="pre">**kwargs)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">startbases(self)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">checkconflicts(self)</span></code></p></li>
</ul>
</div></blockquote>
<p>Each of these performs the following function:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">super().__init__(*args,</span> <span class="pre">**kwargs)</span></code>: Inherits the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> from the Parameterization Class.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">startbases(self)</span></code>: Runs a <cite>start</cite> command on each parent class, giving each parent class a chance to run a set of functions upon instantiation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">checkconflicts(self)</span></code>: Checks to confirm that the combination of parent classes in the model are valid.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Models should be named to reflect the parents classes used to construct
it, as outlined in the above sections.</p></li>
</ol>
</div></blockquote>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="UserClass.html" class="btn btn-neutral float-right" title="User Classes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="intro.html" class="btn btn-neutral" title="BAGLE TUTORIAL" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022 Moving Universe Lab.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>